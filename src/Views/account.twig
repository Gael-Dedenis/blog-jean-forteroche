{% extends "layout/layout.twig" %}

{% block title %}

    Mon compte

{% endblock %}


{% block header %}

    <h1 class="mg-y text-center text-underline mt-5 mb-5">Mon compte</h1>

{% endblock %}

{% block content %}
    <h2 class="text-center mb-3">Bonjour {{ session.user.pseudo }}</h2>

    <section class="container text-center border border-secondary rounded-lg shadow-lg p-4 mb-4">

        <h3>Changer d'adresse email</h3>

        <form class="form-group" action="{{ url('user!modify') }}" method="POST">

            <div class="form-group col-8 offset-2">
 
                <label for="email" class="col-sm-8 col-form-label">Votre nouvelle adresse email</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="john@doe.gmail" required>

            </div>

            {% if erreurs.email is not empty %}
                <p class="border border-danger rounded-lg p-2">
                    {{ erreurs.email }}
                </p>
            {% endif %}

            <button type="submit" class="btn btn-primary">Changer d'email</button>

        </form>

    </section>

    <section class="container text-center border border-secondary rounded-lg shadow-lg p-4 mt-5">

        <h3 class="">Changer de mot de passe</h3>

        <form class="form-group" action="{{ url('user!modify') }}" method="POST">

            <div class="form-group col-8 offset-2">

                <label for="pass" class="col-sm-8 col-form-label">Votre nouveau mot de passe</label>
                <input type="password" class="form-control" id="pass" name="pass" autocomplete="off" required>

            </div>

            <div class="form-group col-8 offset-2">

                <label for="pass_confirm" class="col-sm-8 col-form-label">Confirmez votre nouveau mot de passe</label>
                <input type="password" class="form-control" id="pass_confirm" name="pass_confirm" autocomplete="off" required>

            </div>

            {% if erreurs.pass is not empty %}
                <p class="border border-danger rounded-lg p-2">
                    {{ erreurs.pass }}
                </p>
            {% endif %}

            <button type="submit" class="btn btn-primary">Changer de mot de passe</button>

        </form>

    </section>

    <section class="container text-center border border-secondary rounded-lg shadow-lg p-4 mt-5">

        <h3 class="">Supprimer mon compte</h3>

        <form class="form-group" action="{{ url('user!delete') }}" method="POST">

            <p class="text-danger">Attention! Cette action est irr√©versible.</p>

            <button type="submit" class="btn btn-primary">Supprimer</button>

        </form>

    </section>

{% endblock %}